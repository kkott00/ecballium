// Generated by CoffeeScript 1.3.3
(function() {

  ecballium.register_handlers([
    [
      /^Find (.+) with text "([^"]+)"/, function(el, text) {
        this.found_item = $("" + this.aliases[el] + ":contains(" + text + ")").first();
        this.assert(this.found_item.length !== 0, 'Element not found');
        this.log("find", $.makeArray(this.found_item));
        return this.mouse.movetoobj(this.found_item);
      }
    ], [
      /^Click found item/, function() {
        this.found_item.click();
        return this.mouse.click();
      }
    ], [
      /^Say "([^"]+)"/, function(say) {
        return this.mouse.say(say);
      }
    ], [
      /^(\w+) animation/, function(state) {
        this.animation = state === "Enable" ? true : false;
        return this.mouse.enable(this.animation);
      }
    ], [
      /^Highlight (.+) and say "([^"]+)"/, function(alias, comment) {
        var d, item, item_pos, old,
          _this = this;
        item = $("" + this.aliases[alias]);
        old = this.dump_css(item, {
          'z-index': 1001,
          'position': 'relative',
          'background-color': 'white'
        });
        item_pos = item.first().offset();
        d = this.show_message(item_pos.left, item_pos.top, comment);
        return d.done(function() {
          return item.css(old);
        });
      }
    ]
  ]);

  ecballium.register_aliases({
    button: 'button',
    link: 'a'
  });

}).call(this);
